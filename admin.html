<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Admin Brain PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{--bg:#f6f7fb;--card:#fff;--text:#111}
body.dark{--bg:#0f172a;--card:#1e293b;--text:#f8fafc}
body{margin:0;font-family:system-ui;background:var(--bg);color:var(--text)}
.container{max-width:900px;margin:auto;padding:20px}
.card{background:var(--card);border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 8px 20px rgba(0,0,0,.15)}
.hidden{display:none}
input,textarea,select,button{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid #ccc}
button{background:#2563eb;color:white;border:none;cursor:pointer}
.red{background:#dc2626}
.gray{background:#6b7280}
.header{display:flex;justify-content:space-between;align-items:center}
.task{display:flex;gap:10px;margin:6px 0;align-items:center}
.task.done span{text-decoration:line-through;color:#777}
.log{font-size:13px;opacity:.85}
.stat{font-size:26px;font-weight:700}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="container card" id="loginBox">
  <h2>ğŸ” Admin Access</h2>
  <input type="password" id="pass" placeholder="ParolÄƒ">
  <button onclick="login()">Enter</button>
</div>

<!-- ADMIN -->
<div class="container hidden" id="adminBox">

<div class="card header">
  <h1>ğŸ§  Admin Brain PRO</h1>
  <button class="red" onclick="logout()">Logout</button>
</div>

<!-- DASHBOARD -->
<div class="card">
  <h3>ğŸ“Š Dashboard Overview</h3>
  <div class="stat">Total tasks: <span id="tTotal">0</span></div>
  <div class="stat">Done: <span id="tDone">0</span></div>
  <div class="stat">Remaining: <span id="tLeft">0</span></div>
</div>

<div class="card">
  <button onclick="toggleDark()">ğŸŒ™ Dark Mode</button>
</div>

<div class="card">
  <h3>ğŸ“¡ Site Status</h3>
  <select id="status" onchange="saveStatus()">
    <option>ONLINE</option>
    <option>OFFLINE</option>
    <option>DEVELOPMENT</option>
  </select>
</div>

<!-- NOTES -->
<div class="card">
  <h3>ğŸ“ Notes (auto-save)</h3>
  <textarea id="notes" rows="4"></textarea>
</div>

<!-- TASKS -->
<div class="card">
  <h3>âœ… Tasks</h3>
  <input id="search" placeholder="Search task..." oninput="renderTasks()">
  <input id="taskInput" placeholder="Task nou">
  <button onclick="addTask()">Add</button>
  <div id="tasks"></div>
</div>

<!-- QUICK ACTIONS -->
<div class="card">
  <h3>âš¡ Quick Actions</h3>
  <button class="gray" onclick="clearNotes()">Clear Notes</button>
  <button class="gray" onclick="exportData()">Export JSON</button>
  <button class="gray" onclick="clearLogs()">Reset Logs</button>
</div>

<!-- SYSTEM -->
<div class="card">
  <h3>ğŸ–¥ System Info</h3>
  <div>Dark mode: <b id="darkInfo"></b></div>
  <div>Storage keys: <b id="storageInfo"></b></div>
</div>

<!-- ğŸ” SECURITY -->
<div class="card">
  <h3>ğŸ” Security</h3>
  <input id="oldPass" type="password" placeholder="Parola curentÄƒ">
  <input id="newPass" type="password" placeholder="Parola nouÄƒ">
  <button onclick="changePassword()">Change Password</button>
</div>

<!-- LOGS -->
<div class="card">
  <h3>ğŸ§¾ Activity Log</h3>
  <div id="logs"></div>
</div>

</div>

<script>
const DEFAULT_PASS="d4riusfn";
let PASSWORD=localStorage.getItem("admin_pass")||DEFAULT_PASS;

// ELEMENTE
const loginBox=document.getElementById("loginBox");
const adminBox=document.getElementById("adminBox");
const passInput=document.getElementById("pass");
const notes=document.getElementById("notes");
const statusSel=document.getElementById("status");
const tasksDiv=document.getElementById("tasks");
const logsDiv=document.getElementById("logs");

let tasks=JSON.parse(localStorage.getItem("tasks"))||[];
let logs=JSON.parse(localStorage.getItem("logs"))||[];

// LOGIN
function login(){
  if(passInput.value===PASSWORD){
    loginBox.style.display="none";
    adminBox.classList.remove("hidden");
    logEvent("Login");
    load();
  } else alert("ParolÄƒ greÈ™itÄƒ");
}
function logout(){logEvent("Logout");location.reload();}

// DASHBOARD
function updateDashboard(){
  const done=tasks.filter(t=>t.done).length;
  tTotal.innerText=tasks.length;
  tDone.innerText=done;
  tLeft.innerText=tasks.length-done;
}

// NOTES AUTO SAVE
notes.addEventListener("input",()=>{
  localStorage.setItem("notes",notes.value);
});

// STATUS
function saveStatus(){
  localStorage.setItem("status",statusSel.value);
  logEvent("Status changed");
}

// TASKS
function addTask(){
  if(!taskInput.value.trim())return;
  tasks.push({text:taskInput.value,done:false});
  taskInput.value="";
  saveTasks();
}
function toggleTask(i){tasks[i].done=!tasks[i].done;saveTasks();}
function deleteTask(i){tasks.splice(i,1);saveTasks();}

function saveTasks(){
  localStorage.setItem("tasks",JSON.stringify(tasks));
  renderTasks();
  updateDashboard();
}

function renderTasks(){
  const q=document.getElementById("search").value.toLowerCase();
  tasksDiv.innerHTML="";
  tasks.forEach((t,i)=>{
    if(!t.text.toLowerCase().includes(q))return;
    tasksDiv.innerHTML+=`
      <div class="task ${t.done?"done":""}">
        <input type="checkbox" ${t.done?"checked":""} onclick="toggleTask(${i})">
        <span style="flex:1">${t.text}</span>
        <button class="gray" onclick="deleteTask(${i})">âœ–</button>
      </div>`;
  });
}

// LOGS
function logEvent(txt){
  logs.unshift(new Date().toLocaleString()+" - "+txt);
  localStorage.setItem("logs",JSON.stringify(logs));
  renderLogs();
}
function clearLogs(){
  logs=[];
  localStorage.removeItem("logs");
  renderLogs();
}
function renderLogs(){
  logsDiv.innerHTML="";
  logs.slice(0,20).forEach(l=>logsDiv.innerHTML+=`<div class="log">${l}</div>`);
}

// QUICK
function clearNotes(){
  notes.value="";
  localStorage.removeItem("notes");
}
function exportData(){
  alert(JSON.stringify(localStorage,null,2));
}

// UI
function toggleDark(){
  document.body.classList.toggle("dark");
  localStorage.setItem("dark",document.body.classList.contains("dark"));
  darkInfo.innerText=document.body.classList.contains("dark");
}

// SECURITY
function changePassword(){
  if(oldPass.value!==PASSWORD){
    alert("Parola curentÄƒ greÈ™itÄƒ");
    return;
  }
  if(newPass.value.length<4){
    alert("Minim 4 caractere");
    return;
  }
  PASSWORD=newPass.value;
  localStorage.setItem("admin_pass",PASSWORD);
  oldPass.value="";
  newPass.value="";
  logEvent("Password changed");
  alert("Parola schimbatÄƒ");
}

// LOAD
function load(){
  notes.value=localStorage.getItem("notes")||"";
  statusSel.value=localStorage.getItem("status")||"ONLINE";
  if(localStorage.getItem("dark")==="true")
    document.body.classList.add("dark");
  darkInfo.innerText=document.body.classList.contains("dark");
  storageInfo.innerText=localStorage.length;
  renderTasks();
  renderLogs();
  updateDashboard();
}
</script>

</body>
</html>
